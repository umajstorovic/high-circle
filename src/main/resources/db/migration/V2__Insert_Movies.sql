-- Create the movies table with an added popularity column
CREATE TABLE IF NOT EXISTS movies (
                                      id BIGSERIAL PRIMARY KEY,
                                      title VARCHAR(255) NOT NULL,
    release_date DATE NOT NULL,
    poster_url TEXT,
    overview TEXT,
    genres TEXT[],
    rating DOUBLE PRECISION,
    runtime INT,
    language VARCHAR(10),
    popularity INTEGER
    );

-- Insert movie data with popularity values (sample value: 100)
INSERT INTO movies (title, release_date, poster_url, overview, genres, rating, runtime, language, popularity) VALUES
                                                                                                                  ('The Shawshank Redemption', '1994-09-22', 'https://example.com/posters/shawshank.jpg', 'Two imprisoned men bond over a number of years.', '{Drama,Crime}', 9.3, 142, 'EN', 100),
                                                                                                                  ('The Godfather', '1972-03-24', 'https://example.com/posters/godfather.jpg', 'The aging patriarch of an organized crime dynasty transfers control.', '{Crime,Drama}', 9.2, 175, 'EN', 100),
                                                                                                                  ('The Dark Knight', '2008-07-18', 'https://example.com/posters/dark_knight.jpg', 'When the menace known as the Joker emerges, chaos ensues.', '{Action,Crime,Drama}', 9.0, 152, 'EN', 100),
                                                                                                                  ('12 Angry Men', '1957-04-10', 'https://example.com/posters/12_angry_men.jpg', 'A jury holds out to prevent a miscarriage of justice.', '{Drama}', 9.0, 96, 'EN', 100),
                                                                                                                  ('Schindler''s List', '1993-11-30', 'https://example.com/posters/schindlers_list.jpg', 'In German-occupied Poland, industrialist Oskar Schindler saves Jews.', '{Biography,Drama,History}', 8.9, 195, 'EN', 100),
                                                                                                                  ('Pulp Fiction', '1994-10-14', 'https://example.com/posters/pulp_fiction.jpg', 'The lives of two mob hitmen intertwine with tales of redemption.', '{Crime,Drama}', 8.9, 154, 'EN', 100),
                                                                                                                  ('Forrest Gump', '1994-07-06', 'https://example.com/posters/forrest_gump.jpg', 'The presidencies of Kennedy and Johnson seen through a man with low IQ.', '{Drama,Romance}', 8.8, 142, 'EN', 100),
                                                                                                                  ('Inception', '2010-07-16', 'https://example.com/posters/inception.jpg', 'A thief who steals corporate secrets through dream-sharing technology.', '{Action,Adventure,Sci-Fi}', 8.8, 148, 'EN', 100),
                                                                                                                  ('Fight Club', '1999-10-15', 'https://example.com/posters/fight_club.jpg', 'An insomniac office worker and a soap salesman form an underground club.', '{Drama}', 8.8, 139, 'EN', 100),
                                                                                                                  ('The Matrix', '1999-03-31', 'https://example.com/posters/matrix.jpg', 'A computer hacker learns about the true nature of his reality.', '{Action,Sci-Fi}', 8.7, 136, 'EN', 100),
                                                                                                                  ('The Lord of the Rings: The Fellowship of the Ring', '2001-12-19', 'https://example.com/posters/lotr_fellowship.jpg', 'A meek Hobbit and eight companions set out on a journey to destroy the One Ring.', '{Adventure,Drama,Fantasy}', 8.8, 178, 'EN', 100),
                                                                                                                  ('Star Wars: Episode V - The Empire Strikes Back', '1980-05-21', 'https://example.com/posters/empire_strikes_back.jpg', 'After the rebels are brutally overpowered, Luke Skywalker begins Jedi training.', '{Action,Adventure,Fantasy}', 8.7, 124, 'EN', 100),
                                                                                                                  ('The Lord of the Rings: The Return of the King', '2003-12-17', 'https://example.com/posters/lotr_return.jpg', 'Gandalf and Aragorn lead the World of Men against Sauron''s army.', '{Adventure,Drama,Fantasy}', 9.0, 201, 'EN', 100),
                                                                                                                  ('Interstellar', '2014-11-07', 'https://example.com/posters/interstellar.jpg', 'A team of explorers travel through a wormhole in space in an attempt to ensure humanity''s survival.', '{Adventure,Drama,Sci-Fi}', 8.6, 169, 'EN', 100),
                                                                                                                  ('The Green Mile', '1999-12-10', 'https://example.com/posters/green_mile.jpg', 'The lives of guards on Death Row are affected by one of their charges.', '{Crime,Drama,Fantasy}', 8.6, 189, 'EN', 100),
                                                                                                                  ('Se7en', '1995-09-22', 'https://example.com/posters/seven.jpg', 'Two detectives, a rookie and a veteran, hunt a serial killer.', '{Crime,Drama,Mystery}', 8.6, 127, 'EN', 100),
                                                                                                                  ('The Silence of the Lambs', '1991-02-14', 'https://example.com/posters/silence_of_lambs.jpg', 'A young FBI cadet must confide in an incarcerated and manipulative killer.', '{Crime,Drama,Thriller}', 8.6, 118, 'EN', 100),
                                                                                                                  ('Saving Private Ryan', '1998-07-24', 'https://example.com/posters/saving_private_ryan.jpg', 'Following the Normandy Landings, a group of U.S. soldiers go behind enemy lines.', '{Drama,War}', 8.6, 169, 'EN', 100),
                                                                                                                  ('The Usual Suspects', '1995-09-15', 'https://example.com/posters/usual_suspects.jpg', 'A sole survivor tells the twisted events leading up to a shootout.', '{Crime,Drama,Mystery}', 8.5, 106, 'EN', 100),
                                                                                                                  ('Spirited Away', '2001-07-20', 'https://example.com/posters/spirited_away.jpg', 'During her family''s move to the suburbs, a sullen 10-year-old girl wanders into a world ruled by gods.', '{Animation,Adventure,Family}', 8.6, 125, 'JA', 100),
                                                                                                                  ('Gladiator', '2000-05-05', 'https://example.com/posters/gladiator.jpg', 'A former Roman General sets out to exact vengeance against the corrupt emperor.', '{Action,Adventure,Drama}', 8.5, 155, 'EN', 100),
                                                                                                                  ('The Lion King', '1994-06-15', 'https://example.com/posters/lion_king.jpg', 'Lion prince Simba and his father are targeted by his bitter uncle.', '{Animation,Adventure,Drama}', 8.5, 88, 'EN', 100),
                                                                                                                  ('Braveheart', '1995-05-24', 'https://example.com/posters/braveheart.jpg', 'Scottish warrior William Wallace leads a revolt against the English.', '{Biography,Drama,History}', 8.3, 178, 'EN', 100),
                                                                                                                  ('The Social Network', '2010-10-01', 'https://example.com/posters/social_network.jpg', 'The story of Facebook and its founder Mark Zuckerberg.', '{Biography,Drama}', 7.7, 120, 'EN', 100),
                                                                                                                  ('The Avengers', '2012-05-04', 'https://example.com/posters/avengers.jpg', 'Earth''s mightiest heroes must come together to stop Loki.', '{Action,Adventure,Sci-Fi}', 8.0, 143, 'EN', 100),
                                                                                                                  ('Black Panther', '2018-02-16', 'https://example.com/posters/black_panther.jpg', 'T''Challa returns home to Wakanda to take his place as king.', '{Action,Adventure,Sci-Fi}', 7.3, 134, 'EN', 100),
                                                                                                                  ('The Prestige', '2006-10-20', 'https://example.com/posters/prestige.jpg', 'Two magicians engage in a bitter rivalry.', '{Drama,Mystery,Sci-Fi}', 8.5, 130, 'EN', 100),
                                                                                                                  ('Django Unchained', '2012-12-25', 'https://example.com/posters/django.jpg', 'With the help of a German bounty hunter, Django sets out to free his wife.', '{Drama,Western}', 8.4, 165, 'EN', 100),
                                                                                                                  ('Goodfellas', '1990-09-19', 'https://example.com/posters/goodfellas.jpg', 'The story of Henry Hill and his life in the mob.', '{Biography,Crime,Drama}', 8.7, 146, 'EN', 100),
                                                                                                                  ('The Wolf of Wall Street', '2013-12-25', 'https://example.com/posters/wolf_wall_street.jpg', 'Jordan Belfort''s rise and fall on Wall Street.', '{Biography,Comedy,Crime}', 8.2, 180, 'EN', 100),
                                                                                                                  ('Joker', '2019-10-04', 'https://example.com/posters/joker.jpg', 'The origin story of Arthur Fleck, a man disregarded by society.', '{Crime,Drama,Thriller}', 8.4, 122, 'EN', 100),
                                                                                                                  ('Parasite', '2019-05-30', 'https://example.com/posters/parasite.jpg', 'Greed and class discrimination threaten the relationship between two families.', '{Comedy,Drama,Thriller}', 8.6, 132, 'KO', 100),
                                                                                                                  ('1917', '2019-12-25', 'https://example.com/posters/1917.jpg', 'Two British soldiers are tasked with delivering a critical message.', '{Drama,War}', 8.3, 119, 'EN', 100),
                                                                                                                  ('The Grand Budapest Hotel', '2014-02-26', 'https://example.com/posters/grand_budapest.jpg', 'A concierge is framed for murder in a famous hotel.', '{Adventure,Comedy,Crime}', 8.1, 99, 'EN', 100),
                                                                                                                  ('Whiplash', '2014-10-10', 'https://example.com/posters/whiplash.jpg', 'A young drummer enrolls in a competitive music conservatory.', '{Drama,Music}', 8.5, 106, 'EN', 100),
                                                                                                                  ('The Truman Show', '1998-06-05', 'https://example.com/posters/truman_show.jpg', 'A man discovers his life is a reality TV show.', '{Comedy,Drama}', 8.2, 103, 'EN', 100),
                                                                                                                  ('Shutter Island', '2010-02-19', 'https://example.com/posters/shutter_island.jpg', 'A U.S. Marshal investigates a psychiatric facility.', '{Mystery,Thriller}', 8.2, 138, 'EN', 100),
                                                                                                                  ('La La Land', '2016-12-09', 'https://example.com/posters/la_la_land.jpg', 'A jazz musician and an aspiring actress meet and fall in love.', '{Comedy,Drama,Music}', 8.0, 128, 'EN', 100),
                                                                                                                  ('Mad Max: Fury Road', '2015-05-15', 'https://example.com/posters/mad_max.jpg', 'In a post-apocalyptic wasteland, Max teams up with Furiosa.', '{Action,Adventure,Sci-Fi}', 8.1, 120, 'EN', 100),
                                                                                                                  ('Toy Story', '1995-11-22', 'https://example.com/posters/toy_story.jpg', 'A cowboy doll is threatened by the arrival of a spaceman.', '{Animation,Adventure,Comedy}', 8.3, 81, 'EN', 100),
                                                                                                                  ('Inside Out', '2015-06-19', 'https://example.com/posters/inside_out.jpg', 'The emotions inside a young girl''s mind navigate her life.', '{Animation,Adventure,Comedy}', 8.1, 95, 'EN', 100),
                                                                                                                  ('Up', '2009-05-29', 'https://example.com/posters/up.jpg', 'A widower and a young boy embark on an adventure to South America.', '{Animation,Adventure,Comedy}', 8.3, 96, 'EN', 100),
                                                                                                                  ('Finding Nemo', '2003-05-30', 'https://example.com/posters/finding_nemo.jpg', 'A clownfish searches for his son who was taken to Sydney.', '{Animation,Adventure,Comedy}', 8.2, 100, 'EN', 100),
                                                                                                                  ('Coco', '2017-11-22', 'https://example.com/posters/coco.jpg', 'A young musician enters the Land of the Dead.', '{Animation,Adventure,Comedy}', 8.4, 105, 'EN', 100),
                                                                                                                  ('Monsters, Inc.', '2001-11-02', 'https://example.com/posters/monsters_inc.jpg', 'Two monsters must return a human child to her home.', '{Animation,Adventure,Comedy}', 8.1, 92, 'EN', 100),
                                                                                                                  ('Ratatouille', '2007-06-29', 'https://example.com/posters/ratatouille.jpg', 'A rat dreams of becoming a chef in Paris.', '{Animation,Adventure,Comedy}', 8.1, 111, 'EN', 100),
                                                                                                                  ('The Incredibles', '2004-11-05', 'https://example.com/posters/incredibles.jpg', 'A family of superheroes must come out of retirement.', '{Animation,Action,Adventure}', 8.0, 115, 'EN', 100),
                                                                                                                  ('Zootopia', '2016-03-04', 'https://example.com/posters/zootopia.jpg', 'A rookie bunny cop and a cynical con artist fox uncover a conspiracy.', '{Animation,Adventure,Comedy}', 8.0, 108, 'EN', 100),
                                                                                                                  ('Frozen', '2013-11-27', 'https://example.com/posters/frozen.jpg', 'A princess sets out to find her estranged sister.', '{Animation,Adventure,Comedy}', 7.4, 102, 'EN', 100),
                                                                                                                  ('Beauty and the Beast', '1991-11-22', 'https://example.com/posters/beauty_beast.jpg', 'A young woman falls in love with a cursed prince.', '{Animation,Family,Fantasy}', 8.0, 84, 'EN', 100),
                                                                                                                  ('The Little Mermaid', '1989-11-17', 'https://example.com/posters/little_mermaid.jpg', 'A mermaid makes a deal to become human.', '{Animation,Family,Fantasy}', 7.6, 83, 'EN', 100),
                                                                                                                  ('Aladdin', '1992-11-25', 'https://example.com/posters/aladdin.jpg', 'A street rat finds a magical lamp.', '{Animation,Adventure,Comedy}', 8.0, 90, 'EN', 100),
                                                                                                                  ('Mulan', '1998-06-19', 'https://example.com/posters/mulan.jpg', 'A young woman disguises herself as a man to save her father.', '{Animation,Adventure,Family}', 7.6, 88, 'EN', 100),
                                                                                                                  ('Moana', '2016-11-23', 'https://example.com/posters/moana.jpg', 'A young girl sails across the ocean to save her people.', '{Animation,Adventure,Comedy}', 7.6, 107, 'EN', 100),
                                                                                                                  ('The Pianist', '2002-09-24', 'https://example.com/posters/the_pianist.jpg', 'A Polish Jewish musician struggles to survive during the Holocaust.', '{Biography,Drama,Music}', 8.5, 150, 'EN', 100),
                                                                                                                  ('Slumdog Millionaire', '2008-11-12', 'https://example.com/posters/slumdog.jpg', 'A Mumbai teenager reflects on his life after winning a quiz show.', '{Drama,Romance}', 8.0, 120, 'EN', 100),
                                                                                                                  ('The Departed', '2006-10-06', 'https://example.com/posters/the_departed.jpg', 'An undercover cop and a mole in the police attempt to identify each other.', '{Crime,Drama,Thriller}', 8.5, 151, 'EN', 100),
                                                                                                                  ('The Big Short', '2015-12-11', 'https://example.com/posters/the_big_short.jpg', 'Four denizens of the financial world predict the housing bubble collapse.', '{Biography,Comedy,Drama}', 7.8, 130, 'EN', 100),
                                                                                                                  ('Life of Pi', '2012-11-21', 'https://example.com/posters/life_of_pi.jpg', 'A young man survives a disaster at sea and is hurtled into an epic journey.', '{Adventure,Drama}', 7.9, 127, 'EN', 100),
                                                                                                                  ('The Hateful Eight', '2015-12-25', 'https://example.com/posters/hateful_eight.jpg', 'Eight strangers seek refuge from a blizzard in a stagecoach stopover.', '{Crime,Drama,Mystery}', 7.8, 168, 'EN', 100),
                                                                                                                  ('No Country for Old Men', '2007-11-09', 'https://example.com/posters/no_country.jpg', 'Violence and mayhem ensue after a hunter stumbles upon a drug deal.', '{Crime,Drama,Thriller}', 8.2, 122, 'EN', 100),
                                                                                                                  ('Logan', '2017-03-03', 'https://example.com/posters/logan.jpg', 'In a future world, Logan cares for an ailing Professor X while hiding.', '{Action,Drama,Sci-Fi}', 8.1, 137, 'EN', 100),
                                                                                                                  ('A Beautiful Mind', '2001-12-21', 'https://example.com/posters/beautiful_mind.jpg', 'The story of John Nash, a brilliant but asocial mathematician.', '{Biography,Drama}', 8.2, 135, 'EN', 100),
                                                                                                                  ('The Revenant', '2015-12-25', 'https://example.com/posters/revenant.jpg', 'A frontiersman fights for survival after being mauled by a bear.', '{Action,Adventure,Drama}', 8.0, 156, 'EN', 100),
                                                                                                                  ('Birdman', '2014-10-17', 'https://example.com/posters/birdman.jpg', 'A faded actor struggles to mount a Broadway play to revive his career.', '{Comedy,Drama}', 7.7, 119, 'EN', 100),
                                                                                                                  ('The King''s Speech', '2010-12-24', 'https://example.com/posters/kings_speech.jpg', 'King George VI overcomes his stammer with the help of a speech therapist.', '{Biography,Drama,History}', 8.0, 118, 'EN', 100),
                                                                                                                  ('The Irishman', '2019-11-01', 'https://example.com/posters/irishman.jpg', 'A mob hitman recalls his involvement with the Bufalino crime family.', '{Biography,Crime,Drama}', 7.8, 209, 'EN', 100),
                                                                                                                  ('Tenet', '2020-08-26', 'https://example.com/posters/tenet.jpg', 'A secret agent embarks on a time-bending mission to prevent World War III.', '{Action,Sci-Fi,Thriller}', 7.3, 150, 'EN', 100),
                                                                                                                  ('Knives Out', '2019-11-27', 'https://example.com/posters/knives_out.jpg', 'A detective investigates the death of a wealthy family patriarch.', '{Comedy,Crime,Drama}', 7.9, 130, 'EN', 100),
                                                                                                                  ('The Imitation Game', '2014-11-28', 'https://example.com/posters/imitation_game.jpg', 'The story of Alan Turing and his efforts to crack Nazi codes.', '{Biography,Drama,War}', 8.0, 114, 'EN', 100),
                                                                                                                  ('Prisoners', '2013-09-20', 'https://example.com/posters/prisoners.jpg', 'When his daughter goes missing, a father takes matters into his own hands.', '{Crime,Drama,Mystery}', 8.1, 153, 'EN', 100),
                                                                                                                  ('Deadpool', '2016-02-12', 'https://example.com/posters/deadpool.jpg', 'A former special forces operative becomes a mercenary with superpowers.', '{Action,Adventure,Comedy}', 8.0, 108, 'EN', 100),
                                                                                                                  ('The Greatest Showman', '2017-12-20', 'https://example.com/posters/greatest_showman.jpg', 'The story of P.T. Barnum and the creation of his circus.', '{Biography,Drama,Musical}', 7.6, 105, 'EN', 100),
                                                                                                                  ('Wonder', '2017-11-17', 'https://example.com/posters/wonder.jpg', 'The inspiring story of a boy with facial differences.', '{Drama,Family}', 7.9, 113, 'EN', 100);